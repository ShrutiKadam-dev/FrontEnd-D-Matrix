
<h3>Alternative Investment Fund</h3>

<!-- Search Section -->
<div class="search-section">
  <p-autoComplete [(ngModel)]="selectedAifName" [suggestions]="filteredAifNames" (completeMethod)="searchAifs($event)"
    (onSelect)="scrollToAif($event)" field="nickname" placeholder="Search AIF..." [minLength]="1">
  </p-autoComplete>

  <button *ngIf="selectedAifName" pButton icon="pi pi-times" class="p-button-text" (click)="clearSearch()">
  </button>
</div>


<!-- Carousel -->
<p-carousel 
  [value]="displayAifs" 
  [numVisible]="3" 
  [numScroll]="3" 
  [circular]="false" 
  [responsiveOptions]="responsiveOptions"
  styleClass="custom-carousel"
  *ngIf="!selectedAifName">

  <ng-template let-aif pTemplate="item" >
    <p-card styleClass="mf-card" [ngStyle]="{ cursor: 'pointer'}" (click)="goToAif(aif)" >
      <ng-template pTemplate="header" >
        <div class="card-color" [ngStyle]="{'background-color': getColor(aif.nickname)}" ></div>
      </ng-template>
      <div class="card-title" [title]="aif.nickname" >{{ aif.nickname || 'No Name' }}</div>
      <div class="card-value">{{ aif.subcategory || 'No Subcategory' }}</div>
      <div class="status">{{ aif.entityid }}</div>
    </p-card>
  </ng-template>
</p-carousel>

<!-- Search Result Card -->
<p-carousel 
  *ngIf="selectedAifName"
  [value]="filteredAifNames" 
  [numVisible]="3" 
  [numScroll]="3" 
  [circular]="false" 
  [responsiveOptions]="responsiveOptions"
  styleClass="custom-carousel">

  <ng-template let-aif pTemplate="item" >
    <p-card styleClass="mf-card" [ngStyle]="{ cursor: 'pointer'}" (click)="goToAif(aif)" >
      <ng-template pTemplate="header" >
        <div class="card-color" [ngStyle]="{'background-color': getColor(aif.nickname)}" ></div>
      </ng-template>
      <div class="card-title" [title]="aif.nickname" >{{ aif.nickname || 'No Name' }}</div>
      <div class="card-value">{{ aif.subcategory || 'No Subcategory' }}</div>
      <div class="status">{{ aif.entityid }}</div>
    </p-card>
  </ng-template>
</p-carousel>

<h3>Summary Of Actions</h3>

<!-- Search Box -->
<div class="search-container half-width">
  <span class="p-input-icon-left search-bar">
    <input
      pInputText
      type="text"
      placeholder="Search..."
    />
  </span>
</div>

<!-- Action Table -->
<p-table
  #dt
  [value]="actionTableList"
  dataKey="id"
  [paginator]="true"
  [rows]="5"
  [rowsPerPageOptions]="[5, 10, 25, 50]"
  [globalFilterFields]="['scrip_name', 'unit', 'order_date', 'order_type', 'purchase_amount']"
  scrollHeight="400px"
  [responsiveLayout]="'scroll'"
>
  <ng-template pTemplate="header">
    <tr>
      <th pSortableColumn="scrip_name">Scrip Name <p-sortIcon field="scrip_name"></p-sortIcon></th>
      <th pSortableColumn="unit">Units <p-sortIcon field="unit"></p-sortIcon></th>
      <th pSortableColumn="order_date">Order Date <p-sortIcon field="order_date"></p-sortIcon></th>
      <th pSortableColumn="order_type">Action <p-sortIcon field="order_type"></p-sortIcon></th>
      <th pSortableColumn="purchase_amount">Amount <p-sortIcon field="purchase_amount"></p-sortIcon></th>
    </tr>
  </ng-template>

  <ng-template pTemplate="body" let-entity>
    <tr>
      <td>{{ entity.scrip_name }}</td>
      <td>{{ entity.unit }}</td>
      <td>{{ entity.order_date }}</td>
      <td>{{ entity.order_type }}</td>
      <td>{{ entity.purchase_amount }}</td>
    </tr>
  </ng-template>
</p-table>


<!-- mcap allocation -->


  